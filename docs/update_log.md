# 更新日志

## 1 版本说明

!!! Abstract ""
    **版本号说明：** 像其它优秀开源项目一样，CloudExplorer Lite 将保持每月发布一个新的功能版本，功能版本中如遇较为紧急或严重的 Bug，将及时推出 Bug 修复的小版本。  
    **CloudExplorer Lite 版本号命名规则为：** v 大版本.功能版本. Bug 修复版本，示例如下：

    -  v1.0.1 是 v1.0.0 之后的 Bug 修复版本。
    -  v1.1.0 是 v1.0.0 之后的功能版本。

## 2 更新内容

### v1.4.1

2023 年 10 月 27 日   

!!! Abstract "管理中心 :palm_tree: :sunflower:"
    fix：修复网关访问漏洞，漏洞编号为 CVE-2023-44397。
    refactor：系统设置中清除日志时长放大限制，最多可设置1000。       

!!! Abstract "云主机管理 :star2:  " 
    feat：云主机列表支持导出。
    feat：云磁盘列表支持导出。       
     

!!! Abstract "运营分析  :star2:"
    feat：基础资源分析 - 宿主机明细列表支持导出。
    feat：基础资源分析 - 存储器明细列表支持导出。
    feat：云主机分析 - 资源明细列表支持导出。
    feat： 云磁盘分析 - 资源明细列表支持导出。

### v1.4.0

2023 年 8 月 22 日   

!!! Abstract "管理中心 :palm_tree:"
    fix：修复查询用户列表返回所有用户加密密码存在敏感信息泄漏风险，漏洞编号为 CVE-2023-39519。        

!!! Abstract "云主机管理 :star2:  " 
    feat：支持 Proxmox VE 云主机 CPU、内存、磁盘、网络等指标监控。       
    feat：支持对包年包月的云主机进行续期和批量续期操作。      
    feat：支持对包年包月的云主机进行自动续期设置。       

!!! Abstract "云账单  :star2: :sunflower: "
    feat：账单明细增加日期、官网价、应付金额、现金支付、代金券支付、币种字段。       
    feat：账单明细支持按天查询账单明细。        
    feat：账单总览支持按云账号和成本类型查看费用报表。        
    feat：账单总览支持按所选币种显示汇总的费用报表，且支持汇率设置。        
    refactor：账单总览-月账单的环形图相邻颜色太相似，不易分辨。        

!!! Abstract "运营分析  :star2:"
    feat：支持 Proxmox VE 平台的节点、存储器、云主机和磁盘分析。     

!!! Abstract "安全合规  :star2:"
    feat：支持对 Proxmox VE 平台的节点、存储器、云主机和磁盘设置合规规则进行扫描检测。    

### v1.3.1

2023 年 8 月 3 日   

!!! Abstract "管理中心 :palm_tree:"
    fix：修复模块管理的安装模块接口传入的 url 未经过滤会造成命令注入风险，漏洞编号为 CVE-2023-38692。     
    fix：修复组织管理中平台的系统管理员重复添加系统管理员权限后，用户角色重复展示，删除多余角色后，用户角色被清空的问题。       

!!! Abstract "云主机管理 :palm_tree: "    
    fix：修复 Proxmox VE 云平台未创建 Cluster 时同步云主机失败的问题。      
    fix：修复 Proxmox VE 云平台当磁盘创建时间为空时同步云磁盘失败的问题。        


### v1.3.0

2023 年 7 月 25 日

!!! Abstract "管理中心 :star2: "
    feat：支持纳管 Proxmox VE 云平台的云账号。    
    feat：支持 Proxmox VE 云账号连接校验。          
    feat：支持对 Proxmox VE 云平台的云账号手动同步资源和账单。          
    feat：支持对 Proxmox VE 云平台的云账号定时同步设置。    

!!! Abstract "云主机管理 :star2: "
    feat：支持通过模板完全克隆方式创建 Proxmox VE 云主机。     
    feat：支持对 Proxmox VE 云主机进行开机/关机/关闭电源/重启/配置变更等运维操作。    
    feat：支持对 Proxmox VE 磁盘进行添加磁盘/挂载/卸载/删除等运维操作。    

!!! Abstract "云账单  :star2: "
    feat：支持对 Proxmox VE 云主机和磁盘的计费策略设置。   
    feat：支持查看 Proxmox VE 云主机和磁盘的账单明细。   

### v1.2.0

2023 年 6 月 27 日    
**重要：** 由此版本开始，由于升级了 flyway，数据库不支持对接 MySQL5.7。若用户使用 MySQL5.7 需注意将数据迁移至 MySQL8.0。


!!! Abstract "管理中心 :star2: :sunflower: :palm_tree:"
    feat：支持查看 API 文档。    
    feat：支持监控数据采集频率设置。     
    feat：支持监控数据清空策略设置。     
    feat：手动同步和数据同步设置支持私有云账单。     
    refactor：云账号列表、详情、数据同步设置整体 UI 升级优化。      
    refactor：优化合并手动同步资源和同步账单为同步。      
    refactor：优化合并日志清空策略移至参数设置菜单中。      
    refactor：【安装部署】程序部署的安装配置 install.conf 增加内存、cpu 等资源限制参数。      
    fix：修复通过API调用设置登录密码为弱密码的问题。       
    fix：修复管理日志未按清空策略执行清空的问题。       

!!! Abstract "云主机管理 :star2: :palm_tree:"
    feat：创建 VMware 云主机时支持自定义云主机密码。      
    feat：创建 VMware 云主机时设置备注。      
    feat：创建 VMware 云主机时选择模板后显示模板的备注信息。       
    feat：创建私有云云主机时显示所选配置的费用。       
    feat：私有云云主机配置变更时显示所选配置的费用。       
    feat：云主机、磁盘、任务、回收站列表支持刷新列表功能。      
    fix：修复回收站列表不能检索中文的问题。     

!!! Abstract "云账单  :star2: :sunflower: :palm_tree:"
    feat：新增计费策略功能：支持计费资源类型为 CPU、内存、磁盘，支持按单价计费和按规格计费两种计费模式，支持按量付费和包年包月两种付费类型。并且支持给不同云账号设置不同的计费策略。     
    feat：账单明细支持查看私有云资源的账单明细。      
    feat：分账设置中的企业项目字段支持按组织/工作空间进行分账（私有云资源费用分账依据）。       
    refactor：优化账单总览中费用的显示样式。       
    fix：修复自定义账单列表与搜索字段不一致问题。       
    fix：修复账单总览-报表中总费用显示不全的问题。          

!!! Abstract "运营分析  :star2: :palm_tree:"
    feat：运营分析资源优化支持灵活设置忽略资源，方便用户设置某些特殊不参与优化的资源，支持不同策略设置不同的忽略资源。     
    feat：新增优化策略列表功能，可以编辑自定义优化条件和忽略资源，方便日后扩展。      
    feat：优化资源支持导出功能。      
    fix：修复云主机优化列表使用率样式问题。       

!!! Abstract "安全合规 :palm_tree:"
    fix：修复总览页面还显示删除云账号的问题。        


### v1.1.0

2023 年 5 月 23 日

!!! Abstract "管理中心 :star2: :sunflower: :palm_tree:"
    feat：角色管理功能升级，支持查看当前角色的成员用户及权限配置。支持为所选角色添加/移除用户，界面更加清晰，操作更加丝滑。    
    feat：组织管理功能升级（合并组织和工作空间为组织管理）支持按组织或按工作空间添加/查看/移除用户，界面更加清晰，用户操作体验更加方便。    
    refactor：导航菜单的服务列表位置调整为顶部的 产品服务。   
    refactor：左侧模块内菜单 UI 升级优化。   
    refactor：用户管理整体功能 UI 升级优化。   
    refactor：云账号同步资源频率设置中 间隔类型的输入值限制最小时间 为15分钟。   
    refactor：创建用户时 ID 修改为用户名（登录页面的用户名，对应数据库中 username 字段），姓名修改为显示名称（对应数据库中 name 字段）。  
    fix：修复 IDOR 漏洞使得攻击者通过 API 调用可以将用户添加到任意的组织中。   
    fix：修复 IDOR 漏洞使得攻击者通过 API 调用可以在一个组织内任意添加、删除、修改工作空间。   
    fix：修复 IDOR 漏洞使得攻击者通过 API 调用可以管理没有授权到自己组织/工作空间的云主机。   
    fix：修复 IDOR 漏洞使得攻击者通过 API 调用可以管理没有授权到自己组织/工作空间的磁盘。   
    fix：修复偶然情况无法完成登录，登录完成后无法跳转到首页的问题。     

!!! Abstract "云主机管理  :sunflower: :palm_tree:"
    refactor：创建 VMware 机器时，在资源配置的宿主机列表和存储列表增加搜索功能。   
    refactor：所有云平台的创建云主机界面 UI 升级优化。   
    refactor：云主机列表、配置变更、添加磁盘、磁盘扩容所有功能页面 UI 升级优化。   
    refactor：公有云云主机监控数据优先获取 Agent 监控数据，未安装 Agent 的再获取基础监控数据。   
    refactor：创建 OpenStack 机器时，支持设置磁盘类型为 null 的磁盘。   
    refactor：创建 VMware 机器时，模板列表默认按字母数字排序，支持按名称查询。    
    refactor：优化添加磁盘和磁盘扩容时磁盘大小步长值为 10，最小值为各云平台的值。默认值为 20。    
    fix：修复创建 VMware 的 Windows 系统云主机将登录密码设置为 password，未设置为空密码。    
    fix：修复创建 VMware 云主机，hostname 包含点号（.）会导致创建失败。     
    fix：修复创建 VMware 云主机，手动指定 IP 地址，创建完成后不能自动获取 IP 。     
    fix：修复 VMware 云主机监控数据每小时 20 分- 35 分之间的数据没有保存到 ES 中的问题。     
    fix：修复云主机处于关机状态的时间段，云主机监控图中未做断线处理。     
    fix：修复云主机在云厂商平台创建失败时，任务和云主机列表的状态未做异常处理。     
    fix：修复云主机配置变更成功后，云主机列表仅更新了运行状态，未更新实例规格。    

!!! Abstract "云账单  :star2: :sunflower: :palm_tree:"
    feat：自定义账单列表增加查看报表功能。     
    refactor：分账设置、自定义账单UI升级优化。     
    fix：修复在分账设置中切换分账目标（组织/工作空间）时未清空已分账资源列表的搜索条件。     
    fix：修复云账号修改名称后，在云账单中云账号的名称没有更新。     
    fix：修复删除云账号后云账单中的数据没有清除的问题。     

!!! Abstract "运营分析  :palm_tree:"
    fix：云主机优化建议将优化策略保存到数据中，仅系统管理员可修改。      
    fix：修复基础资源分析中未获取 VMware 平台集群下存储器的资源分配数据。      

!!! Abstract "安全合规  :star2: :sunflower: :palm_tree:"
    feat：丰富规则库，支持对云主机、磁盘、EIP、云数据库、VPC 等资源校验是否打了标签的属性。     
    feat：丰富规则库，支持对云磁盘增加是否开启备份策略的属性。      
    refactor：合规规则、规则组、风险条例所有功能页面UI升级优化。     
    refactor：在扫描检测中点击规则名称可直接弹出编辑规则框，方便用户查看和变更。      
    refactor：优化部分配置大小的属性未显示单位的问题。      
    fix：修复删除全部云主机资源后再次执行扫描检查，扫描结果中依然存在已删除的资源。      
    fix：修复EIP资源类型的规则在扫描结果页面公网IP的ID和名称列展示为空的问题。     
    fix：新建或修改规则后，扫描检查界面该规则展示的不合规资源数与扫描结果中的不合规资源数不一致。      
    fix：修复总览-扫描资源按云账号分布图表的悬浮框内容展示重复。     
    fix：修复删除云账号后安全合规中的数据没有清除的问题。     



### v1.0.2

2023 年 4 月 27 日

!!! Abstract "管理中心 :sunflower: :palm_tree:"
    refactor：优化系统设置中开启回收站功能描述。     
    fix：修复登录时偶尔出现无法登录或登录完成后无法跳转到首页的问题。     
    fix：修复管理中心模块上传处存在越权，可以导致RCE的漏洞。    


!!! Abstract "云主机管理 :palm_tree:" 
    fix：修复创建华为云主机，选择区域后展示的实例规格与云平台不一致。    
    fix：修复云主机列表中前一页的最后一条记录会重复出现在后一页的第一条。     

!!! Abstract "云账单 :palm_tree:"
    fix：修复阿里云账号使用非青岛区域的存储桶无法同步账单，代码中固定了存储桶的访问地域节点。   

!!! Abstract "运营分析 :sunflower:"
    refactor：基础资源分析-宿主机明细列表中增加 CPU 总量（MHz）、CPU 已使用（MHz） 、内存 已使用（GB）列显示。     
    refactor：基础资源分析中鼠标悬浮在基础资源分配率和使用率时展示资源总量、已使用、未使用详情。    
    refactor：资源明细列表中显示样式优化：使用率统一保留2位小数。   

### v1.0.1

2023 年 4 月 20 日

!!! Abstract "管理中心 :sunflower: :palm_tree:"
    refactor：优化了切换角色后优先定位到当前页面，若当前页面无权限在定位到首页。           
    refactor：优化了浏览器兼容性的问题。     
    fix：修复了操作日志中的操作 IP 没有展示客户端的 IP 的问题。                
    fix：修复了当用户退出登录后，token 还能拿来用的问题。       

!!! Abstract "云主机管理 :palm_tree:"
    fix：修复了当资源状态为创建中时，同步资源所在的云账号会在列表中多一条记录的问题。 

!!! Abstract "云账单 :palm_tree:"
    fix：修复了账单总览中账单明细的费用趋势的金额显示为NaN的问题。

!!! Abstract "运营分析 :sunflower: :palm_tree:"
    refactor：优化了鼠标悬停【组织架构分布】组件中，页面无法滑动的问题。    
    fix：修复了无监控数据时查看资源监控页面的索引报错问题。


  


### v1.0.0

2023 年 4 月 15 日

!!! Abstract "新增功能 :star2:"
    **管理中心：**  CloudExplorer Lite 的统一管理中心，提供了强大的多租户体系和模块化能力，可以满足企业的定制化需求。   
    **云主机管理：**  CloudExplorer Lite 提供统一的云主机的生命周期管理操作界面；基于用户管理体系，用户可创建、可操作的资源都具备隔离性。   
    **云账单：**  CloudExplorer Lite 提供统一的费用管理、费用分摊、自定义多维度账单功能，可以作为企业的云资源成本分析中心，帮助企业用户有效降低云上资源的成本管理难度。    
    **运营分析：**  CloudExplorer Lite 能够对企业现有的云资源从分布、容量、使用情况等多个维度进行分析，并提供资源优化建议。    
    **安全合规：**  CloudExplorer Lite 支持一键扫描多个云平台的多种云资源，可灵活定义规则。     